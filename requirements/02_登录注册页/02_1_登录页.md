2. 用户登录

    2.1 页面布局

        2.1.1 整体页面布局：背景为白色，分上、中、下三部分布局。最上方为顶部导航栏，中间为常用功能快捷入口，下方为底部导航区域

        2.1.2 顶部导航栏：
            - 最左侧为**logo区域**。logo区域的左侧为中国铁路12306官方logo图标，logo区域的右侧上方为黑体加粗字样的“中国铁路12306”，右侧下方为灰色“12306 CHINA RAILWAY”。该区域在顶部导航栏中的位置与首页的logo区域在顶部导航栏中的位置一致
            - logo区域右侧为**欢迎标语区域**，显示为黑体字样的“欢迎登录12306”
            - logo区域与欢迎标语区域之间有一定间距，两个区域高度一致

        2.1.3 登录表单区域：
            - **表单背景**：为一张矩形的铁路12306APP推广图片，作为登录表单区域的背景
            - **登录表单**：为一个矩形的表单区域，位于表单背景中偏右区域。表单依次包含如下组件：
                - “账号登录”选项，选中时显示为蓝色
                - 用户名/邮箱/手机号输入框
                - 密码输入框
                - “立即登录”按钮，显示为橙底白字
                - 左侧的“注册12306账户”入口（显示为蓝色）及右侧的“忘记密码？”入口（显示为灰色），两个入口用|分隔

        2.1.4 底部宣传栏：
            - **友情链接**：位于底部宣传栏的左侧
            - **官方平台二维码**：位于底部宣传栏的右侧。四个二维码分别为“中国铁路官方微信”、“中国铁路官方微博”、“12306 公众号”、“铁路 12306”

        2.1.5 整体页面布局的尺寸应保持固定，不随用户窗口大小变化、系统提示信息弹出等情况而改变

    2.2 页面跳转

        2.2.1 用户在**首页**点击顶部导航栏的”登录“可跳转到登录页面

        2.2.2 用户在**注册页**点击顶部导航栏的”登录“可跳转到登录页面

        2.2.3 用户在**登录页**点击顶部导航栏的logo区域可跳转到首页

        2.2.4 用户在**登录页**点击登录表单区域内的”注册12306账户“入口可跳转到注册页面

        2.2.5 用户在**登录页**点击登录表单区域内的”忘记密码？“入口可跳转到**忘记密码页**

        2.2.6 用户在本页面成功实现登录后，系统会自动跳转到**个人中心页**

    2.3 用户交互情况

        2.3.1 用户进入登录页面

            Scenario: 登录表单的初始状态
                Given: 用户进入登录页面
                When: 页面加载完成，用户暂未输入任何信息
                Then: 用户名/邮箱/手机号输入框，密码输入框均为空
                And: 用户名/邮箱/手机号输入框内部显示灰字提示"用户名/邮箱/手机号"
                And: 密码输入框内部显示灰字提示"密码"

        2.3.2 用户填写登录表单

            Scenario: 用户未输入用户名/邮箱/手机号
                Given: 用户已在登录页面中
                And：用户未输入用户名/手机号/邮箱
                When：用户点击“立即登录”按钮
                Then：“立即登录”按钮上方出现系统提示“❗请输入用户名！”

            Scenario: 用户未输入密码
                Given: 用户已在登录页面中
                And：用户在用户名/手机号/邮箱输入框中输入了信息
                And：用户未输入密码
                When：用户点击“立即登录”按钮
                Then：“立即登录”按钮上方出现系统提示“❗请输入密码！”

            Scenario: 用户输入的密码长度不符合要求
                Given: 用户已在登录页面中
                And：用户在用户名/手机号/邮箱输入框中输入了错误的信息
                And：用户在密码输入框中输入了小于6位的密码
                When：用户点击“立即登录”按钮
                Then：“立即登录”按钮上方出现系统提示“❗密码长度不能小于6位！”

            Scenario: 用户已经输入用户名/邮箱/手机号和密码
                Given: 用户已在登录页面中
                And：用户在用户名/手机号/邮箱输入框中输入了信息
                And：用户在密码输入框中输入了长度大于等于6位的密码
                When：用户点击“立即登录”按钮
                Then：登录表单区域中心弹出**短信验证弹窗**。进入短信验证流程
    
    2.4 短信验证流程

        2.4.1 弹窗页面布局：短信验证弹窗弹出后位于登录表单区域的中心，其内部为白色。左上方显示文字”选择验证方式“，右上方显示”×“，用户可点击关闭弹窗。弹窗内部组件自上而下依次为：
            - 短信验证弹窗标题：“短信验证”，蓝色
            - 证件号后4位输入框
            - 验证码输入框及输入框右侧的“获取验证码”按钮
                - ”获取验证码“按钮共有3个状态：初始化状态（显示为灰色，不可点击）、可点击状态（显示为白色，可点击）、倒计时状态（显示为灰色，不可点击，按钮文字显示为“重新发送（x秒）”，x从60开始计时）
            - “确定”按钮，橙底白字

        2.4.2 登录表单区域弹出短信验证弹窗

            Scenario: 短信验证弹窗初始化
                Given: 用户已在登录页面中
                When：登录表单区域弹出短信验证弹窗，用户暂未输入任何信息
                Then: 证件号后4位输入框，验证码输入框均为空
                And: 证件号后4位输入框内部显示灰字提示”请输入登录账号绑定的证件号后4位“
                And: 验证码输入框内部显示灰字提示”输入验证码“
                And: ”获取验证码“按钮为初始化状态

        2.4.3 用户填写短信验证信息

            Scenario: 用户未填写证件号后4位，点击“确定”按钮
                Given: 用户已在短信验证弹窗中
                And: 用户未填写证件号后4位
                When: 用户点击“确定”按钮
                Then: ”确定“按钮上方显示红字提示“请输入登录账号绑定的证件号后4位”

            Scenario: 证件号后4位输入达到字符限制
                Given: 用户已在短信验证弹窗中
                When: 用户在证件号后4位输入框中填入了4个字符
                Then: 系统不再接受更多字符输入
                And: 证件号后4位输入框内保持4个字符

            Scenario: 证件号后4位输入框中填写字符少于4个
                Given: 用户已在短信验证弹窗中
                When: 用户在证件号后4位输入框中填入的字符少于4个
                Then: ”获取验证码“按钮仍保持初始化状态

            Scenario: 用户已填写证件号后4位  
                Given: 用户已在短信验证弹窗中
                When: 用户在证件号后4位输入框中填入了4个字符
                Then: “获取验证码”按钮由初始化状态转变为可点击状态

            Scenario: 用户点击”获取验证码“按钮
                Given: 用户已在短信验证弹窗中
                And: 用户已填写证件号后4位
                And: ”获取验证码“按钮为可点击状态
                When: 用户点击“获取验证码”按钮
                Then：系统对用户在用户名/邮箱/手机号输入框中的输入信息进行类型判定
                    - 若用户在用户名/邮箱/手机号输入框中输入的信息为11位数字，则系统判定用户输入的是手机号
                    - 若用户在用户名/邮箱/手机号输入框中输入的信息含“@”符号和域名，则系统判定用户输入的是邮箱
                    - 若用户在用户名/邮箱/手机号输入框中输入的信息既不是手机号也不是邮箱，则系统判定用户输入的是用户名
 
            Scenario：用户的用户名/邮箱/手机号信息在系统中不存在
                Given: 用户已在短信验证弹窗中
                And: 用户已填写证件号后4位
                And: 用户在用户名/邮箱/手机号输入框中输入了信息
                And: 用户点击了”获取验证码“按钮
                And: 系统已根据用户输入的用户名/邮箱/手机号信息，完成了该信息的类型判定
                When: 系统根据类型判定，判断用户输入的用户名/邮箱/手机号信息在系统中不存在
                Then: “确定”按钮上方显示红字提示”请输入正确的用户信息！“

            Scenario：用户的用户名/邮箱/手机号信息和证件号后4位不匹配
                Given: 用户已在短信验证弹窗中
                And: 用户已填写证件号后4位
                And: 用户在用户名/邮箱/手机号输入框中输入了信息
                And: 用户点击了”获取验证码“按钮
                And: 系统已根据用户输入的用户名/邮箱/手机号信息，完成了该信息的类型判定
                When: 系统根据类型判定，判断用户输入的用户名/邮箱/手机号信息与用户输入的证件号后4位不匹配
                Then: “确定”按钮上方显示红字提示”请输入正确的用户信息！“

            Scenario：用户的用户名/邮箱/手机号信息和证件号后4位匹配
                Given: 用户已在短信验证弹窗中
                And: 用户已填写证件号后4位
                And: 用户在用户名/邮箱/手机号输入框中输入了信息
                And: 用户点击了”获取验证码“按钮
                And: 系统已根据用户输入的用户名/邮箱/手机号信息，完成了该信息的类型判定
                When: 系统根据类型判定，判断用户输入的用户名/邮箱/手机号信息与用户输入的证件号后4位匹配
                Then: 系统发送6位随机的短信验证码到用户绑定的手机号
                And: ”确定“按钮上方显示信息”获取手机验证码成功！“
                And：控制台显示向什么手机号发送了什么验证码
                And：将手机号及验证码记录在登录所用的数据库中

            Scenario：用户未输入验证码直接点击“确定”按钮
                Given: 用户已在短信验证弹窗中
                And: 用户已在证件号后4位输入框中填写字符
                And: 用户未填写验证码输入框
                When: 用户点击“确定”按钮
                Then: “确定”按钮上方显示红字提示”请输入验证码“

            Scenario：用户输入了长度不符合规范的验证码
                Given: 用户已在短信验证弹窗中
                And: 系统已向用户绑定的手机号发送了验证码
                And: 用户填写的验证码长度小于6位
                When: 用户点击“确定”按钮
                Then: “确定”按钮上方显示红字提示”请输入正确验证码“

            Scenario：用户输入验证码达到字符限制
                Given: 用户已在短信验证弹窗中
                When: 用户已经在验证码输入框中填入了6个字符
                Then: 系统不再接受更多字符输入
                And: 验证码输入框内保持6个字符

            Scenario：系统未发送验证码，用户输入了6个字符
                Given: 用户已在短信验证弹窗中
                And: 系统未向用户绑定的手机号发送验证码
                And: 用户已经在验证码输入框中填入了6个字符
                When: 用户点击“确定”按钮
                Then: “确定”按钮上方显示红字提示”验证码校验失败“

            Scenario：用户输入了错误的验证码
                Given: 用户已在短信验证弹窗中
                And: 系统已向用户绑定的手机号发送了验证码
                And: 用户填写的6位验证码与系统发送的验证码不匹配
                When: 用户点击“确定”按钮
                Then: “确定”按钮上方显示红字提示”很抱歉，您输入的短信验证码有误“

            Scenario：用户输入了正确的验证码，系统验证密码错误
                Given: 用户已在短信验证弹窗中
                And: 系统已向用户绑定的手机号发送了验证码
                And: 用户填写的验证码与系统发送的验证码匹配
                And: 用户点击“确定”按钮
                When: 系统验证密码，发现用户填写的密码与系统中该用户的密码不匹配
                Then: “确定”按钮上方显示提示”用户名或密码错误”

            Scenario：用户输入了正确的验证码，系统验证密码正确
                Given: 用户已在短信验证弹窗中
                And: 系统已向用户绑定的手机号发送了验证码
                And: 用户填写的验证码与系统发送的验证码匹配
                And: 用户点击“确定”按钮
                When: 系统验证密码，发现用户填写的密码与系统中该用户的密码匹配
                Then: 系统登录成功
                And: 系统跳转到**个人中心页**

        2.4.4 ”获取验证码“按钮的交互情况

            Scenario: ”获取验证码“按钮在倒计时结束后变为可点击
                Given：用户已在登录页面中，短信验证弹窗已弹出
                And：用户已点击过”获取验证码“按钮，该按钮处于倒计时状态
                When：倒计时归零
                Then：”重新发送验证码“按钮重新回归可点击状态

            Scenario: 用户点击重新发送验证码按钮后系统重新发送验证码
                Given：重新发送验证码按钮处于可点击状态
                When：用户点击“重新发送验证码”按钮
                Then：系统应重新发送短信验证码到用户绑定的手机号
                And：控制台显示向什么手机号发送了什么验证码
                And：将手机号及验证码记录在注册所用的数据库中
                And：重新发送验证码按钮重置为倒计时状态，并开始新的倒计时