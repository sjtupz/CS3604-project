# 个人中心页调研

## 需求分析

1. 用户通过点击“我的12306”按钮进入个人中心，此时如果用户还未登录，会自动跳转登录界面。
2. 进入个人中心时会自动进入个人中心主页，主页最上方显示了用户真实名称、欢迎语，提供会员服务和车票服务两个区域的接口，下方提供了微信和支付宝二维码可以设置信息接收方式。
3. 点击“火车票订单”会优先进入“未完成订单”区域，该区域显示当前已锁定席位但未支付的订单，如果为空，则在中间提供前往车票预定板块的接口。
4. “火车票订单”板块标题还有并列的“未出行订单”和“历史订单”。未出行订单区域提供查询功能，可以分“按订票日期”和“按乘车日期”两种方式进行查询，两种方式下均可设置起始和终止日期以及订单号/车次/姓名；历史订单只能按照乘车日期进行查询，查询方式相同。
5. 三种订单区域互不重合，未出行订单不会出现在历史订单中；三种区域显示订单的格式相同，从左到右为车次信息、旅客信息、席位信息、票价和车票状态（具体格式见图片），以及在标题和具体内容之间有一行订票日期信息。在“未出行订单”板块中点击“退票”会弹出“退票申请”界面。该界面独立于网站界面，在非全屏状态下拉动底部横移条时会始终保持居中，且在该页面存在时无法点击原网站页面内容，原网站覆盖灰色，该页面高亮。页面中显示退款手续费用，去顶取消按钮以及最下方的注意事项。退票后跳转至成功界面，显示车次信息和退票手续费等内容，并提供“继续购票”和“查看订单详情”两个接口，“继续购票”跳转至车票板块，“查看订单详情”跳转至“未出行订单”板块，且该车票信息现在仍处于“未出行订单”区域，但信息置灰，在该车次完成行程后归入“历史订单”板块。
6. 三种订单区域下方有各自的提示信息；未出行订单和历史订单均只保留三十天信息
7. “查看个人信息”从上到下分为三个常规板块和一个附加板块，最上方的“基本信息”板块有用户名、姓名、国家/地区、证件类型、证件号码、核验状态，这部分内容不可在该页面修改；“联系方式”板块中有手机号和邮箱两个信息，如果已经通过核验会显示“已通过核验”，右侧有编辑按钮，点击后已通过核验字样处变为“去手机核验修改”，提供跳转链接（此处手机号为注册时的手机号）；下面邮箱可以为空。优惠（待）类型板块右侧也有编辑按钮，点击后类型可下拉选择，从上到下为成人、儿童、学生、残疾军人四个类型，其中只有选择学生类型并保存后下方会出现“学生资质查询”板块，具有刷新和查询两个按钮
8. “乘车人”最上方有一个查询条，可以根据乘客姓名查询乘车人信息，下方信息展示部分从左到右为序号、姓名、证件类型、证件号码、手机/电话、核验状态、操作。选中若干乘车人之后可以进行批量删除，右侧操作部分也可以单独删除乘车人或对乘车人信息进行修改。点击添加按钮，跳转到新的界面，分为基本信息、联系方式和附加信息三部分，基本信息为证件类型、姓名、证件号码，联系方式为有效电话号，优惠类型和上述相同。证件类型和手机号码均支持若干类型。
9. 证件类型为居民身份证、港澳居民来往大陆通行证、中国护照时，要求姓名只能包含中文或英文，外国护照时只能为英文或空格，但其余类型在输入数字或者字符的情况下不会直接报错。证件号格式不匹配时会显示“请输入正确的证件号码！”。在姓名或证件号码为空的情况下会在下方显示“请输入xxx”。外国人永久居留身份证等几个情况下需要有效截止日期、出生日期，这两部分提供日历进行选择，也可以自行输入，但不会直接报错。在乱输入有效截止日期和出生日期提交时，显示错误信息。不同证件类型会有不同的基本信息和联系方式要求。

## 页面功能组件列举

- 火车票订单：**未完成订单， 未出行订单， 历史订单**三个大板块；空置板块的**跳转车票预定**接口；未完成订单页面的**跳转支付**；未出行订单的**退票、改签**；历史订单的**打印信息单**

- 查看个人信息：联系方式和附加信息板块的**编辑**按钮

- 乘车人：**添加乘车人**、**修改乘车人信息**、**删除乘车人信息**

## 页面布局

### 火车票订单

![](image/未完成订单.png "未完成订单")
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">未完成订单</center> 

<br/>
<br/>
<br/>

![](image/未出行订单.png "未出行订单")
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">未出行订单</center> 

<br/>
<br/>
<br/>

![](image/退票弹窗.png "未出行订单")
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">退票弹窗</center> 

<br/>
<br/>
<br/>

![](image/退票成功后跳转.png "未出行订单")
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">退票成功后跳转</center> 

### 个人信息


![](image/个人信息.png "未出行订单")
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">个人信息</center> 

### 乘车人

![](image/乘车人.png "未出行订单")
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">乘车人</center> 

<br/>
<br/>
<br/>

![](image/添加乘车人.png "未出行订单")
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">添加乘车人</center> 